<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AXAJ</title>
  </head>
  <body>
    <pre></pre>
    <script>
      const fetchPra = {
        get(url) {
          return fetch(url);
        },

        post(url, payload) {
          return fetch(url, {
            method: 'POST',
            headers: {'content-Type': 'application/json'},
            body: JSON.stringify(payload),
          });
        },

        patch(url, payload) {
          return fetch(url, {
            method: 'PATCH',
            headers: {'content-Type': 'application/json'},
            body: JSON.stringify(payload),
          });
        },

        delete(url) {
          return fetch(url, {method: 'DELETE'});
        },
      };

      const todosUrl = '/todos';

      // GET요청
      fetchPra
        .get(`${todosUrl}/2`)
        .then((response) => response.json())
        .then(console.log)
        .catch((error) => console.error(error));

      // POST 요청
      fetchPra
        .post(todosUrl, {
          userId: 1,
          title: 'JavaScript',
          completed: false,
        })
        .then((response) => response.json())
        .then(console.log)
        .catch((error) => console.error(error));

      // PATCH 요청
      fetchPra
        .patch(`${todosUrl}/2`, {
          userId: 103,
        })
        .then((response) => response.json())
        .then(console.log)
        .catch((error) => console.error(error));

      // DELETE 요청
      fetchPra
        .delete(`${todosUrl}/4`)
        .then((response) => response.json())
        .then(console.log)
        .catch((error) => console.error(error));
    </script>
  </body>
</html>
